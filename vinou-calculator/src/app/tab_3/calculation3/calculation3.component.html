<form [formGroup]="calculation3Form" (ngSubmit)="onSubmit()" #f="ngForm" >

    <div formGroupName="userData">

        <div class="container-background" >
            <div class="container">

                <div class="header">

                    <div class="header-main pt-4">
                        <img class="header-img d-inline me-3" src="/assets/images/calculator_icon.png" height="60px" width="60px">
                        <h3 class="d-inline header-title">Anreicherung zur Alkoholerh√∂hung</h3>
                    </div>
                
                    <div class="header-container pt-4 row d-flex align-items-center">
                        <div class="header-content d-flex align-items-center">

                            <div class="header-result col-md-7">
                                <span 
                                    *ngIf="calculation3Form.get('userData.ausgangsmost')?.valid && calculation3Form.get('userData.anreicherungsquote')?.valid && calculation3Form.get('userData.zuckerungsfaktor')?.valid">
                                    {{calculation3Form.get("userData.result")?.value}} {{selectedUnit}} Zucker auf {{calculation3Form.get("userData.ausgangsmost")?.value | number}} {{selectedUnitVol}} Most
                                </span>
                            </div>

                            <input 
                                readonly
                                class="main-input col-md-3" 
                                type="number" 
                                style="visibility: hidden;"
                            >
                        </div>
                    </div>
                    
                </div>

            </div>
        </div>

        <div class="container mt-3" >
            <div class="row" >

                <div id="main-content" class="main-content" >
                    <div class="main-title col-md-7">Ausgangsmost</div>
                    <div class="position-relative">
                        <input 
                            class="main-input col-md-3 form-control" 
                            type="number"
                            name="ausgangsmost"
                            formControlName="ausgangsmost"
                            (input)="calculateResultForm"
                        >
                        <div id="help-block-eingabe" class="help-block" *ngIf="!calculation3Form.get('userData.ausgangsmost')?.valid && calculation3Form.get('userData.ausgangsmost')?.touched">Gebe einen positven Wert ein!</div>
                    </div>
                    <div class="main-dropdown dropdown col-md-2">
                        <select name="membership" id="membership" class="btn" (change)="onChangeSelectedVolume($event)" (change)="onChangeUnit2($event)">
                            <option value="l">l</option>
                            <option value="hl" selected>hl</option>
                        </select>
                    </div>
                </div>

                <div class="main-content">
                    <div class="main-title col-md-7">Anreicherungsquote</div>
                    <div class="position-relative">
                        <input 
                            class="main-input col-md-3 form-control"
                            type="number"
                            name="anreicherungsquote"
                            formControlName="anreicherungsquote"
                        >
                        <div id="help-block-eingabe" class="help-block" *ngIf="!calculation3Form.get('userData.anreicherungsquote')?.valid && calculation3Form.get('userData.anreicherungsquote')?.touched">Gebe einen Wert von 1-28 ein!</div>
                    </div>

                    <div class="main-dropdown dropdown col-md-2 select-arrow">
                        <select name="membership" id="membership" class="btn">
                            <option value="g/l">g/l</option>
                        </select>
                    </div>
                </div>

                <div class="main-content">
                    <div class="main-title col-md-7">Zuckerungsfaktor</div>
                    <div class="position-relative">
                        <input 
                            class="main-input col-md-3 form-control" 
                            type="number"
                            name="zuckerungsfaktor"
                            formControlName="zuckerungsfaktor"
                        >
                        <div id="help-block-eingabe" class="help-block" *ngIf="!calculation3Form.get('userData.zuckerungsfaktor')?.valid && calculation3Form.get('userData.zuckerungsfaktor')?.touched">Gebe einen postiven Wert ein!</div>
                    </div>

                    <div class="main-dropdown dropdown col-md-2 select-arrow">
                        <select class="btn">
                            <option value="g/l">g/l</option>
                        </select>
                    </div>
                </div>

                <div class="main-content">
                    <div class="main-title col-md-7">konstante Dichte von Saccharose</div>
                    <input 
                        class="main-input col-md-3 form-control" 
                        type="number"
                        name="saccharose"
                        formControlName="saccharose"
                        readonly
                        placeholder="{{'0,62'}}"
                    >
                    <div class="main-dropdown dropdown col-md-2 select-arrow">
                        <select name="membership" id="membership" class="btn" (change)="onChangeSelectedWeight($event)">
                            <option value="kg/l">l/kg</option>
                        </select>
                    </div>
                </div>

                <div class="main-content">
                    <div class="main-title col-md-7">Volumenvermehrung (Zucker)</div>
                    <input 
                        readonly
                        class="main-input col-md-3 form-control" 
                        type="number"
                        name="volumenvermehrung"
                        formControlName="volumenvermehrung"
                    >
                    <div class="main-dropdown dropdown col-md-2 select-arrow">
                        <select name="membership" id="membership" class="btn" (change)="onChangeSelectedWeight($event)">
                            <option value="l">l</option>
                        </select>
                    </div>
                </div>

            </div>
        </div>
    </div>
</form>